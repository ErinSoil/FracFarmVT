left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData<-fracData %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
fracData<-fracData %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData<-fracData %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
#Write updated dataframe to CSV, overwriting the existing file
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data <- read.csv(file="C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2", header=TRUE, sep=",")
View(data)
Frac <- read.csv(file="Frac.csv", header=TRUE, sep=",")
Loc <- read.csv(file="Location.csv", header=TRUE, sep=",")
Mang <- read.csv(file="Mang.csv", header=TRUE, sep=",")
Master2 <- read.csv(file="Master2.csv", header=TRUE, sep=",", fileEncoding="latin1")
PRISM2annual <- read.csv(file="PRISM2annual.csv", header=TRUE, sep=",")
# join tables
fracData2<-Frac %>%
left_join(.,Mang,by="Field_Code")
fracData<-fracData %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData<-fracData %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
fracData2<-Frac %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData<-fracData %>%
left_join(.,Mang,by="Field_Code")
fracData<-fracData %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
#Write updated dataframe to CSV, overwriting the existing file
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data <- read.csv(file="C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2", header=TRUE, sep=",")
View(data)
#setwd("/Users/f003833/Documents/GitHub/FracFarmVT") #caitlin
setwd("C:/Users/F004SPC/Documents/GitHub/FracFarmVT") #erin
library(tidyverse)
library(ggplot2)
library(dplyr)
library(corrplot)
library(emmeans)
Frac <- read.csv(file="Frac.csv", header=TRUE, sep=",")
Loc <- read.csv(file="Location.csv", header=TRUE, sep=",")
Mang <- read.csv(file="Mang.csv", header=TRUE, sep=",")
Master2 <- read.csv(file="Master2.csv", header=TRUE, sep=",", fileEncoding="latin1")
PRISM2annual <- read.csv(file="PRISM2annual.csv", header=TRUE, sep=",")
fracData2<-Frac %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData<-fracData %>%
left_join(.,Mang,by="Field_Code")
fracData<-fracData %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
#Write updated dataframe to CSV, overwriting the existing file
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data <- read.csv(file="C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2", header=TRUE, sep=",")
View(data)
#Write updated dataframe to CSV, overwriting the existing file
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data2 <- read.csv(file="C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2", header=TRUE, sep=",")
View(data2)
fracData2<-Frac %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData<-fracData %>%
left_join(.,Mang,by="Field_Code")
fracData<-fracData %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
#Write updated dataframe to CSV, overwriting the existing file
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data2 <- read.csv(file="fracData2.csv", header=TRUE, sep=",")
View(data2)
missing_ph <- subset(data, is.na(ph) | ph == "")
missing_ph <- subset(data2, is.na(ph) | ph == "")
missing_field_codes <- missing_ph$Field_Code
print(missing_field_codes)
fracData2<-Frac %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData2<-fracData2 %>%
left_join(.,Mang,by="Field_Code")
fracData2<-fracData2 %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2
names(fracData2)
fracData2<-Frac %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData2<-fracData2 %>%
left_join(.,Mang,by="Field_Code")
fracData2<-fracData2 %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
#Write updated dataframe to CSV, overwriting the existing file
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data <- read.csv(file="fracData2.csv", header=TRUE, sep=",")
View(data)
missing_ph <- subset(data, is.na(ph) | ph == "")
missing_field_codes <- missing_ph$Field_Code
print(missing_field_codes)
missing_mgCpergSoilM <- subset(data, is.na(mgCpergSoilM) | mgCpergSoilM == "")
missing_field_codes <- missing_mgCpergSoilM$Field_Code
print(missing_field_codes)
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=tmeanC, y=mgCpergSoilM, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
#setwd("/Users/f003833/Documents/GitHub/FracFarmVT") #caitlin
setwd("C:/Users/F004SPC/Documents/GitHub/FracFarmVT") #erin
library(tidyverse)
library(ggplot2)
library(dplyr)
library(corrplot)
library(nlme)
library(ggeffects)
library(emmeans)
Frac <- read.csv(file="Frac.csv", header=TRUE, sep=",")
Loc <- read.csv(file="Location.csv", header=TRUE, sep=",")
Mang <- read.csv(file="Mang.csv", header=TRUE, sep=",")
Master2 <- read.csv(file="Master2.csv", header=TRUE, sep=",", fileEncoding="latin1")
PRISM2annual <- read.csv(file="PRISM2annual.csv", header=TRUE, sep=",")
fracData2<-Frac %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData2<-fracData2 %>%
left_join(.,Mang,by="Field_Code")
fracData2<-fracData2 %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data <- read.csv(file="fracData2.csv", header=TRUE, sep=",")
View(data)
missing_ph <- subset(data, is.na(ph) | ph == "")
missing_field_codes <- missing_ph$Field_Code
print(missing_field_codes)
missing_mgCpergSoilM <- subset(data, is.na(mgCpergSoilM) | mgCpergSoilM == "")
missing_field_codes <- missing_mgCpergSoilM$Field_Code
print(missing_field_codes)
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=tmeanC, y=mgCpergSoilM, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=ppt.cm, y=mgCpergSoilM, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=ph, y=mgCpergSoilM, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=aggregate_stability, y=mgCpergSoilM, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=active_carbon, y=mgCpergSoilM, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
data <- data %>%
mutate(phcategory=cut(ph, breaks=c(-Inf,6.17, 6.52, 6.93, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=tmeanC, y=mgCpergSoilM, col=ph))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ phcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(phcategory=cut(ph, breaks=c(-Inf,6.17, 6.52, 6.93, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=ppt.cm, y=mgCpergSoilM, col=ph))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ phcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(phcategory=cut(ph, breaks=c(-Inf,6.17, 6.52, 6.93, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=aggregate_stability, y=mgCpergSoilM, col=ph))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ phcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(phcategory=cut(ph, breaks=c(-Inf,6.17, 6.52, 6.93, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=active_carbon, y=mgCpergSoilM, col=ph))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ phcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(phcategory=cut(ph, breaks=c(-Inf,6.17, 6.52, 6.93, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=soil_texture_clay, y=mgCpergSoilM, col=ph))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ phcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(pptcategory=cut(ppt.cm, breaks=c(-Inf,101.4, 106.4, 110.0, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=tmeanC, y=mgCpergSoilM, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(pptcategory=cut(ppt.cm, breaks=c(-Inf,101.4, 106.4, 110.0, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=aggregate_stability, y=mgCpergSoilM, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(pptcategory=cut(ppt.cm, breaks=c(-Inf,101.4, 106.4, 110.0, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=ph, y=mgCpergSoilM, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(pptcategory=cut(ppt.cm, breaks=c(-Inf,101.4, 106.4, 110.0, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=active.carbon, y=mgCpergSoilM, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(agStcategory=cut(aggregate_stability, breaks=c(-Inf,29.8, 46.7, 63.7, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=ph, y=mgCpergSoilM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(agStcategory=cut(aggregate_stability, breaks=c(-Inf,29.8, 46.7, 63.7, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=ppt.cm, y=mgCpergSoilM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(agStcategory=cut(aggregate_stability, breaks=c(-Inf,29.8, 46.7, 63.7, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=tmeanC, y=mgCpergSoilM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(agStcategory=cut(aggregate_stability, breaks=c(-Inf,29.8, 46.7, 63.7, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=soil_texture_clay, y=mgCpergSoilM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
data <- data %>%
mutate(agStcategory=cut(aggregate_stability, breaks=c(-Inf,29.8, 46.7, 63.7, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=active_carbon, y=mgCpergSoilM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
cordata <- cor(data[,c("mgCpergSoilM","ph","ppt.cm","tmeanC","aggregate_stability","soil_texture_clay","active_carbon")], use="pairwise.complete.obs", method="pearson")
corrplot(cordata)
view(cordata)
m1=gls(mgCpergSoilM~ppt.cm*soil_texture_clay+
soil_texture_clay*tmeanC+ppt.cm*tmeanC+aggregate_stability+active_carbon+
ph, data=data, na.action=na.exclude, method="ML")
summary(m1)
anova(m1)
data <- read.csv(file="fracData2.csv", header=TRUE, sep=",")
missing_mgCpergSoilP <- subset(data, is.na(mgCpergSoilM) | mgCpergSoilP == "")
missing_field_codes <- missing_mgCpergSoilM$Field_Code
print(missing_field_codes)
missing_mgCpergSoilP <- subset(data, is.na(mgCpergSoilM) | mgCpergSoilP == "")
missing_field_codes <- missing_mgCpergSoilM$Field_Code
print(missing_field_codes)
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=tmeanC, y=mgCpergSoilP, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=ppt.cm, y=mgCpergSoilP, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
data <- data %>%
mutate(pptcategory=cut(ppt.cm, breaks=c(-Inf,101.4, 106.4, 110.0, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=tmeanC, y=mgCpergSoilP, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=aggregate_stability, y=mgCpergSoilP, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=ph, y=mgCpergSoilP, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=active_carbon, y=mgCpergSoilP, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
#interactions with aggregate stability
summary(data$aggregate_stability)
data <- data %>%
mutate(agStcategory=cut(aggregate_stability, breaks=c(-Inf,29.8, 46.7, 63.7, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=ph, y=mgCpergSoilP, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=ppt.cm, y=mgCpergSoilP, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=tmeanC, y=mgCpergSoilP, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=soil_texture_clay, y=mgCpergSoilP, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=active_carbon, y=mgCpergSoilP, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
#setwd("/Users/f003833/Documents/GitHub/FracFarmVT") #caitlin
setwd("C:/Users/F004SPC/Documents/GitHub/FracFarmVT") #erin
data <- read.csv(file="fracData2.csv", header=TRUE, sep=",")
library(dplyr)
data <- data %>%
mutate(propM = gCarbonM/(gCarbonM+ gCarbonP))
summary(data$propM)
hist(data$propM, main = "Histogram of propM", xlab = "propM Values", ylab = "Frequency")
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=tmeanC, y=logitpropM, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
#transform data logit
library(gtools)
data <- data %>%
dplyr::mutate(logit_transformed = logit(propM))
hist(logit_transformed, main = "Histogram of propM", xlab = "propM Values", ylab = "Frequency")
# Log transformation
log_transformed <- log(logit_transformed)
data <- data %>%
dplyr::mutate(logit_transformed = logit(propM))
log_transformed <- log(logit_transformed)
data <- data %>%
dplyr::mutate(logitpropM = logit(propM))
hist(data$logitpropM)
View(logit)
write.csv(data,"data.csv")
View(logit)
summary(logit)
hist(data$logit, main = "Histogram of propM", xlab = "propM Values", ylab = "Frequency")
#interactions with clay
View (data)
data <- data %>%
mutate(claycategory=cut(soil_texture_clay, breaks=c(-Inf, 14, 24, Inf), labels=c("low","med", "high")))
ggplot(data=data, aes(x=tmeanC, y=logitpropM, col=soil_texture_clay))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ claycategory, ncol=1, scales="free_x")
#interactions with ph
data <- data %>%
mutate(phcategory=cut(ph, breaks=c(-Inf,6.17, 6.52, 6.93, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=tmeanC, y=logitpropM, col=ph))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ phcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=ppt.cm, y=logitpropM, col=ph))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ phcategory, ncol=1, scales="free_x")
#interactions with ppt
data <- data %>%
mutate(pptcategory=cut(ppt.cm, breaks=c(-Inf,101.4, 106.4, 110.0, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=tmeanC, y=logitpropM, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=aggregate_stability, y=logitpropM, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=ph, y=logitpropM, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=active_carbon, y=logitpropM, col=ppt.cm))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ pptcategory, ncol=1, scales="free_x")
#interactions with aggregate stability
summary(data$aggregate_stability)
data <- data %>%
mutate(agStcategory=cut(aggregate_stability, breaks=c(-Inf,29.8, 46.7, 63.7, Inf), labels=c("low","med","high", "veryhigh")))
ggplot(data=data, aes(x=ph, y=logitpropM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=ppt.cm, y=logitpropM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=tmeanC, y=logitpropM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=soil_texture_clay, y=logitpropM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
ggplot(data=data, aes(x=active_carbon, y=logitpropM, col=aggregate_stability))+
geom_point()+
geom_smooth(method=lm)+
facet_wrap(~ agStcategory, ncol=1, scales="free_x")
m1=gls(mgCpergSoilM~ppt.cm*soil_texture_clay+
soil_texture_clay*tmeanC+ppt.cm*tmeanC+aggregate_stability*soil_texture_clay+active_carbon+
ph, data=data, na.action=na.exclude, method="ML")
#setwd("/Users/f003833/Documents/GitHub/FracFarmVT") #caitlin
setwd("C:/Users/F004SPC/Documents/GitHub/FracFarmVT") #erin
library(tidyverse)
library(ggplot2)
library(dplyr)
library(corrplot)
library(nlme)
library(ggeffects)
library(emmeans)
data <- read.csv(file="fracData2.csv", header=TRUE, sep=",")
missing_ph <- subset(data, is.na(ph) | ph == "")
missing_field_codes <- missing_ph$Field_Code
print(missing_field_codes)
m1=gls(mgCpergSoilM~ppt.cm*soil_texture_clay+
soil_texture_clay*tmeanC+ppt.cm*tmeanC+aggregate_stability*soil_texture_clay+active_carbon+
ph, data=data, na.action=na.exclude, method="ML")
summary(m1)
anova(m1)
m1P=gls(mgCpergSoilP~soil_texture_clay*ppt.cm+soil_texture_clay*tmeanC+
ppt.cm*tmeanC+aggregate_stability*active_carbon+ aggregate_stability*soil_texture_clay
ph, data=data, na.action=na.exclude, method="ML")
m1P=gls(mgCpergSoilP~soil_texture_clay*ppt.cm+soil_texture_clay*tmeanC+
ppt.cm*tmeanC+aggregate_stability*active_carbon+ aggregate_stability*soil_texture_clay+
ph, data=data, na.action=na.exclude, method="ML")
summary(m1P)
anova(m1P)
m1P2=gls(mgCpergSoilP~ppt.cm+soil_texture_clay+
tmeanC+aggregate_stability+active_carbon+
ph, data=data, na.action=na.exclude, method="ML")
summary(m1P2)
anova(m1P2)
m1M=gls(logitpropM~ppt.cm+soil_texture_clay+
tmeanC+aggregate_stability+active_carbon+
ph, data=data, na.action=na.exclude, method="ML")
library(dplyr)
data <- data %>%
mutate(propM = gCarbonM/(gCarbonM+ gCarbonP))
summary(data$propM)
library(gtools)
data <- data %>%
dplyr::mutate(logitpropM = logit(propM))
hist(data$logitpropM)
m1M=gls(logitpropM~ppt.cm+soil_texture_clay+
tmeanC+aggregate_stability+active_carbon+
ph, data=data, na.action=na.exclude, method="ML")
summary(m1M)
anova(m1M)
m1M2=gls(logitpropM~ppt.cm*soil_texture_clay+
soil_texture_clay*tmeanC+ppt.cm*tmeanC+aggregate_stability*soil_texture_clay+active_carbon+
ph, data=data, na.action=na.exclude, method="ML")
summary(m1M2)
anova(m1M2)
m1M3=gls(logitpropM~ppt.cm+soil_texture_clay*
tmeanC+aggregate_stability+active_carbon+
ph, data=data, na.action=na.exclude, method="ML")
summary(m1M3)
anova(m1M3)
PRISM2annual <- read.csv(file="PRISM2annual.csv", header=TRUE, sep=",")
fracData2<-Frac %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData2<-fracData2 %>%
left_join(.,Mang,by="Field_Code")
fracData2<-fracData2 %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data <- read.csv(file="fracData2.csv", header=TRUE, sep=","
missing_ph <- subset(data, is.na(ph) | ph == "")
missing_mgCpergSoilM <- subset(data, is.na(mgCpergSoilM) | mgCpergSoilM == "")
missing_field_codes <- missing_mgCpergSoilM$Field_Code
print(missing_field_codes)
missing_ppt <- subset(data, is.na(ppt.cm) | ppt.cm == "")
missing_field_codes <- missing_ppt$Field_Code
print(missing_field_codes)
#setwd("/Users/f003833/Documents/GitHub/FracFarmVT") #caitlin
setwd("C:/Users/F004SPC/Documents/GitHub/FracFarmVT") #erin
Frac <- read.csv(file="Frac.csv", header=TRUE, sep=",")
Loc <- read.csv(file="Location.csv", header=TRUE, sep=",")
Mang <- read.csv(file="Mang.csv", header=TRUE, sep=",")
Master2 <- read.csv(file="Master2.csv", header=TRUE, sep=",", fileEncoding="latin1")
PRISM2annual <- read.csv(file="PRISM2annual.csv", header=TRUE, sep=",")
# join tables
fracData2<-Frac %>%
left_join(.,Master2,by=c("Field_Code", "soil_texture_class"))
fracData2<-fracData2 %>%
left_join(.,Mang,by="Field_Code")
fracData2<-fracData2 %>%
left_join(.,PRISM2annual,by="Field_Code")
names(fracData2)
write.csv(fracData2, file = "C:/Users/F004SPC/Documents/GitHub/FracFarmVT/fracData2.csv", row.names = FALSE)
data <- read.csv(file="fracData2.csv", header=TRUE, sep=",")
missing_ppt <- subset(data, is.na(ppt.cm) | ppt.cm == "")
missing_field_codes <- missing_ppt$Field_Code
print(missing_field_codes)
